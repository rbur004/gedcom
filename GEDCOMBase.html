<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: GEDCOMBase
  
    &mdash; gedcom
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "GEDCOMBase";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (G)</a> &raquo;
    
    
    <span class="title">GEDCOMBase</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: GEDCOMBase
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">GEDCOMBase</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/gedcom/gedcom_base.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>base routines shared by all gedcom objects.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Address_record.html" title="Address_record (class)">Address_record</a></span>, <span class='object_link'><a href="Adoption_record.html" title="Adoption_record (class)">Adoption_record</a></span>, <span class='object_link'><a href="Association_record.html" title="Association_record (class)">Association_record</a></span>, <span class='object_link'><a href="Cause_record.html" title="Cause_record (class)">Cause_record</a></span>, <span class='object_link'><a href="Change_date_record.html" title="Change_date_record (class)">Change_date_record</a></span>, <span class='object_link'><a href="Character_set_record.html" title="Character_set_record (class)">Character_set_record</a></span>, <span class='object_link'><a href="Citation_data_record.html" title="Citation_data_record (class)">Citation_data_record</a></span>, <span class='object_link'><a href="Citation_event_type_record.html" title="Citation_event_type_record (class)">Citation_event_type_record</a></span>, <span class='object_link'><a href="Copyright_record.html" title="Copyright_record (class)">Copyright_record</a></span>, <span class='object_link'><a href="Corporate_record.html" title="Corporate_record (class)">Corporate_record</a></span>, <span class='object_link'><a href="Date_record.html" title="Date_record (class)">Date_record</a></span>, <span class='object_link'><a href="Encoded_line_record.html" title="Encoded_line_record (class)">Encoded_line_record</a></span>, <span class='object_link'><a href="Event_age_record.html" title="Event_age_record (class)">Event_age_record</a></span>, <span class='object_link'><a href="Event_record.html" title="Event_record (class)">Event_record</a></span>, <span class='object_link'><a href="Events_list_record.html" title="Events_list_record (class)">Events_list_record</a></span>, <span class='object_link'><a href="Families_individuals.html" title="Families_individuals (class)">Families_individuals</a></span>, <span class='object_link'><a href="Family_record.html" title="Family_record (class)">Family_record</a></span>, <span class='object_link'><a href="Gedcom_record.html" title="Gedcom_record (class)">Gedcom_record</a></span>, <span class='object_link'><a href="Header_data_record.html" title="Header_data_record (class)">Header_data_record</a></span>, <span class='object_link'><a href="Header_record.html" title="Header_record (class)">Header_record</a></span>, <span class='object_link'><a href="Header_source_record.html" title="Header_source_record (class)">Header_source_record</a></span>, <span class='object_link'><a href="Individual_record.html" title="Individual_record (class)">Individual_record</a></span>, <span class='object_link'><a href="Multimedia_citation_record.html" title="Multimedia_citation_record (class)">Multimedia_citation_record</a></span>, <span class='object_link'><a href="Multimedia_file_record.html" title="Multimedia_file_record (class)">Multimedia_file_record</a></span>, <span class='object_link'><a href="Multimedia_format_record.html" title="Multimedia_format_record (class)">Multimedia_format_record</a></span>, <span class='object_link'><a href="Multimedia_obje_file_record.html" title="Multimedia_obje_file_record (class)">Multimedia_obje_file_record</a></span>, <span class='object_link'><a href="Multimedia_obje_format_record.html" title="Multimedia_obje_format_record (class)">Multimedia_obje_format_record</a></span>, <span class='object_link'><a href="Multimedia_record.html" title="Multimedia_record (class)">Multimedia_record</a></span>, <span class='object_link'><a href="Name_phonetic_record.html" title="Name_phonetic_record (class)">Name_phonetic_record</a></span>, <span class='object_link'><a href="Name_romanized_record.html" title="Name_romanized_record (class)">Name_romanized_record</a></span>, <span class='object_link'><a href="Note_citation_record.html" title="Note_citation_record (class)">Note_citation_record</a></span>, <span class='object_link'><a href="Note_record.html" title="Note_record (class)">Note_record</a></span>, <span class='object_link'><a href="Place_record.html" title="Place_record (class)">Place_record</a></span>, <span class='object_link'><a href="Placename_map_record.html" title="Placename_map_record (class)">Placename_map_record</a></span>, <span class='object_link'><a href="Placename_phonetic_record.html" title="Placename_phonetic_record (class)">Placename_phonetic_record</a></span>, <span class='object_link'><a href="Placename_romanized_record.html" title="Placename_romanized_record (class)">Placename_romanized_record</a></span>, <span class='object_link'><a href="Refn_record.html" title="Refn_record (class)">Refn_record</a></span>, <span class='object_link'><a href="Repository_caln.html" title="Repository_caln (class)">Repository_caln</a></span>, <span class='object_link'><a href="Repository_citation_record.html" title="Repository_citation_record (class)">Repository_citation_record</a></span>, <span class='object_link'><a href="Repository_record.html" title="Repository_record (class)">Repository_record</a></span>, <span class='object_link'><a href="Source_citation_record.html" title="Source_citation_record (class)">Source_citation_record</a></span>, <span class='object_link'><a href="Source_record.html" title="Source_record (class)">Source_record</a></span>, <span class='object_link'><a href="Source_scope_record.html" title="Source_scope_record (class)">Source_scope_record</a></span>, <span class='object_link'><a href="Submission_record.html" title="Submission_record (class)">Submission_record</a></span>, <span class='object_link'><a href="Submitter_record.html" title="Submitter_record (class)">Submitter_record</a></span>, <span class='object_link'><a href="Text_record.html" title="Text_record (class)">Text_record</a></span>, <span class='object_link'><a href="Trailer_record.html" title="Trailer_record (class)">Trailer_record</a></span>, <span class='object_link'><a href="TransmissionBase.html" title="TransmissionBase (class)">TransmissionBase</a></span></p>
</div>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="tabs-classvariable" class="">@@tabs =
          <div class="docstring">
  <div class="discussion">
    
<p>If true, indent gedcom lines on output a tab per level. Normally wouldn&#39;t have tabs in a transmission file.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='kw'>false</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#restriction-instance_method" title="#restriction (instance method)">#<strong>restriction</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Restriction records only exist in some GEDCOM record types, and we do honor that.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#no_tabs-class_method" title="no_tabs (class method)">.<strong>no_tabs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>sets @@tabs to false.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tabs-class_method" title="tabs (class method)">.<strong>tabs</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>sets @@tabs to true.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#changed-instance_method" title="#changed (instance method)">#<strong>changed</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Marks this object as having been altered so we know to synchronise it with the DB.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#changed%3F-instance_method" title="#changed? (instance method)">#<strong>changed?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests for this object having been altered, so we know to synchronise it with the DB.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#created%3F-instance_method" title="#created? (instance method)">#<strong>created?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Tests to see if this is a new object, not one we have loaded from elsewhere (say a DB).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find-instance_method" title="#find (instance method)">#<strong>find</strong>(*a)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Find a XREF within this transmission.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(transmission = nil, changed = true, created = true)  &#x21d2; GEDCOMBase </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Create a new GEDCOMBase or most likely a subclass of GEDCOMBase.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#locked%3F-instance_method" title="#locked? (instance method)">#<strong>locked?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Test for a Restriction notice for a locked record.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#private%3F-instance_method" title="#private? (instance method)">#<strong>private?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Test for a Restriction notice for privacy People may request that a records contents not be available for public consumption.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save-instance_method" title="#save (instance method)">#<strong>save</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is the default method, used by all classes inheriting from GEDCOMBase, to recursively save the object and its sub-records to a DB.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_db-instance_method" title="#to_db (instance method)">#<strong>to_db</strong>(level = 0, this_level = [], sub_levels = [])  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Need to flesh this out.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_gedcom-instance_method" title="#to_gedcom (instance method)">#<strong>to_gedcom</strong>(level = 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is the default method, used by all classes inheriting from GEDCOMBase, to recursively generate GEDCOM lines from that Object downward.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">#<strong>to_s</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>create a string from the objects instance variables, one per line, in the form “variable = valuen” …</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#to_s_ordered-instance_method" title="#to_s_ordered (instance method)">#<strong>to_s_ordered</strong>(variable_list)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>to_s with the variable list (as symbols) passed to it in the order they are to be printed.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#to_s_r-instance_method" title="#to_s_r (instance method)">#<strong>to_s_r</strong>(level = 0, this_level = [], sub_levels = [])  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>recursive to_s.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#token_to_s-instance_method" title="#token_to_s (instance method)">#<strong>token_to_s</strong>(token)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>All our values are stored as arrays of words.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#xref_check-instance_method" title="#xref_check (instance method)">#<strong>xref_check</strong>(level, tag, xref)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>validate that the record referenced by the XREF actually exists in this transmission.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(transmission = nil, changed = true, created = true)  &#x21d2; <tt><span class='object_link'><a href="" title="GEDCOMBase (class)">GEDCOMBase</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Create a new GEDCOMBase or most likely a subclass of GEDCOMBase. * transmission is the current transmission this object came from.  This is useful in searchs of the transmission, starting from a reference in a record in that transmission. * changed indicates that we have altered the data in the record  The default is true, as the normal instantiation is creating a new record.  to_db uses this to determine if the record needs to be saved to the DB. * created indicates that this is a new record, rather than one we may have loaded from a DB.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


18
19
20
21
22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 18</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_transmission'>transmission</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_changed'>changed</span><span class='op'>=</span><span class='kw'>true</span><span class='comma'>,</span><span class='id identifier rubyid_created'>created</span><span class='op'>=</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='ivar'>@changed</span> <span class='op'>=</span> <span class='id identifier rubyid_changed'>changed</span>
  <span class='ivar'>@created</span> <span class='op'>=</span> <span class='id identifier rubyid_created'>created</span>
  <span class='ivar'>@this_level</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@sub_level</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@transmission</span> <span class='op'>=</span> <span class='id identifier rubyid_transmission'>transmission</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="restriction=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="restriction-instance_method">
  
    #<strong>restriction</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Restriction records only exist in some GEDCOM record types, and we do honor that. Internally though, my DB allows any record to be restricted, hence this global use of :restriction.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


8
9
10</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 8</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restriction'>restriction</span>
  <span class='ivar'>@restriction</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="no_tabs-class_method">
  
    .<strong>no_tabs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>sets @@tabs to false. This is the default as a lot of GEDCOM parsers don&#39;t like leading white space on lines.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 37</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_no_tabs'>no_tabs</span>
  <span class='cvar'>@@tabs</span> <span class='op'>=</span> <span class='kw'>false</span> <span class='comment'>#The default
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="tabs-class_method">
  
    .<strong>tabs</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>sets @@tabs to true. This indents gedcom lines on output a tab per level. This is useful if pretty printing, but not normal in a gedcom file as most GEDCOM file parsers don&#39;t like leading tabs on lines of a transmission file. I use this only for debugging.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 31</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tabs'>tabs</span>
  <span class='cvar'>@@tabs</span> <span class='op'>=</span> <span class='kw'>true</span> 
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="changed-instance_method">
  
    #<strong>changed</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Marks this object as having been altered so we know to synchronise it with the DB.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_changed'>changed</span>
  <span class='ivar'>@changed</span> <span class='op'>=</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="changed?-instance_method">
  
    #<strong>changed?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests for this object having been altered, so we know to synchronise it with the DB.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_changed?'>changed?</span>
  <span class='ivar'>@changed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="created?-instance_method">
  
    #<strong>created?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Tests to see if this is a new object, not one we have loaded from elsewhere (say a DB)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_created?'>created?</span>
  <span class='ivar'>@created</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find-instance_method">
  
    #<strong>find</strong>(*a)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Find a XREF within this transmission. All classes inheriting from GEDCOMBase record the parent transmission object.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 91</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span>
  <span class='ivar'>@transmission</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_a'>a</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@transmission</span> <span class='op'>!=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="locked?-instance_method">
  
    #<strong>locked?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Test for a Restriction notice for a locked record. Locked records mean that the data is known to be correct, so shouldn&#39;t be altered without checking with the original source of the data.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 104</span>

<span class='kw'>def</span> <span class='id identifier rubyid_locked?'>locked?</span>
  <span class='lparen'>(</span><span class='ivar'>@restriction</span> <span class='op'>!=</span> <span class='kw'>nil</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@restriction</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>locked</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="private?-instance_method">
  
    #<strong>private?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Test for a Restriction notice for privacy People may request that a records contents not be available for public consumption.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_private?'>private?</span>
  <span class='lparen'>(</span><span class='ivar'>@restriction</span> <span class='op'>!=</span> <span class='kw'>nil</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@restriction</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>privacy</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save-instance_method">
  
    #<strong>save</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This is the default method, used by all classes inheriting from GEDCOMBase, to recursively save the object and its sub-records to a DB. All subclasses of GEDCOMBase are expected to define @this_level and @sub_level arrays, which are instructions to to_db on how to generate GEDCOM lines from the attributes of the object.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save'>save</span>
  <span class='id identifier rubyid_to_db'>to_db</span><span class='lparen'>(</span> <span class='id identifier rubyid_level'>level</span><span class='comma'>,</span> <span class='ivar'>@this_level</span><span class='comma'>,</span> <span class='ivar'>@sub_level</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_db-instance_method">
  
    #<strong>to_db</strong>(level = 0, this_level = [], sub_levels = [])  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Need to flesh this out. Right now it pretends to work and marks records as saved.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_db'>to_db</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_this_level'>this_level</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_sub_levels'>sub_levels</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@changed</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='ivar'>@created</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_gedcom-instance_method">
  
    #<strong>to_gedcom</strong>(level = 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This is the default method, used by all classes inheriting from GEDCOMBase, to recursively generate GEDCOM lines from that Object downward. All subclasses of GEDCOMBase are expected to define @this_level and @sub_level arrays, which are instructions to to_s_r on how to generate GEDCOM lines from the attributes of the object.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 79</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_gedcom'>to_gedcom</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_to_s_r'>to_s_r</span><span class='lparen'>(</span> <span class='id identifier rubyid_level'>level</span><span class='comma'>,</span> <span class='ivar'>@this_level</span><span class='comma'>,</span> <span class='ivar'>@sub_level</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    #<strong>to_s</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>create a string from the objects instance variables, one per line, in the form “variable = valuen” … . For an ordered list, see to_s_ordered</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


58
59
60
61
62
63
64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 58</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='comment'>#This might seem a little obscure, but this will find and print the attributes with get methods defined,
</span>  <span class='comment'>#not having prior knowledge of what those attributes are.
</span>  <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_instance_variables'>instance_variables</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='comment'>#look at each of the instance variables
</span>    <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_method_defined?'>method_defined?</span><span class='lparen'>(</span><span class='id identifier rubyid_v_sym'>v_sym</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='lbracket'>[</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span> <span class='comment'>#see if there is a method defined for this symbol (strip the :)
</span>      <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_content'> = </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_pv_byname'>pv_byname</span><span class='lparen'>(</span><span class='id identifier rubyid_v_sym'>v_sym</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='comment'>#print it
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_s'>s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s_ordered-instance_method">
  
    #<strong>to_s_ordered</strong>(variable_list)  &#x21d2; <tt>Object</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>to_s with the variable list (as symbols) passed to it in the order they are to be printed</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291
292
293
294
295
296
297
298
299</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 289</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s_ordered'>to_s_ordered</span><span class='lparen'>(</span><span class='id identifier rubyid_variable_list'>variable_list</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_variable_list'>variable_list</span> <span class='op'>!=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_variable_list'>variable_list</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
      <span class='id identifier rubyid_s'>s</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_content'> = </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_pv_byname'>pv_byname</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_s'>s</span>
  <span class='kw'>else</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s_r-instance_method">
  
    #<strong>to_s_r</strong>(level = 0, this_level = [], sub_levels = [])  &#x21d2; <tt>Object</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>recursive to_s. We want to print this object and its sub-records. the definition of how we want to print and when to recurse, is in the this_level and sub_level arrays. These have the form [ [ action, tag, data_source ],…] (see to_s_r_action )</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 305</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s_r'>to_s_r</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_this_level'>this_level</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_sub_levels'>sub_levels</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s_out'>s_out</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_this_level'>this_level</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span>
    <span class='id identifier rubyid_this_level_instruction'>this_level_instruction</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Instruction.html" title="Instruction (class)">Instruction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Instruction.html#initialize-instance_method" title="Instruction#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_l'>l</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_this_level_instruction'>this_level_instruction</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span> <span class='op'>!=</span> <span class='kw'>nil</span>
      <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='id identifier rubyid_this_level_instruction'>this_level_instruction</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span> <span class='rparen'>)</span> <span class='comment'>#gets the contents using the symbol, and sending &quot;self&quot; a message
</span>    <span class='kw'>else</span>
      <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span>  <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="GedString.html" title="GedString (class)">GedString</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GedString.html#initialize-instance_method" title="GedString#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span> <span class='op'>!=</span> <span class='kw'>nil</span> <span class='comment'>#could be if the self.send targets a variable that doesn&#39;t exist.
</span>      <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_data_instance'>data_instance</span><span class='op'>|</span> 
        <span class='id identifier rubyid_s_out'>s_out</span> <span class='op'>+=</span> <span class='id identifier rubyid_to_s_r_action'>to_s_r_action</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span><span class='comma'>,</span> <span class='id identifier rubyid_this_level_instruction'>this_level_instruction</span><span class='period'>.</span><span class='id identifier rubyid_action'>action</span><span class='comma'>,</span> <span class='id identifier rubyid_this_level_instruction'>this_level_instruction</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_data_instance'>data_instance</span><span class='rparen'>)</span>
      
        <span class='id identifier rubyid_sub_levels'>sub_levels</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sl'>sl</span><span class='op'>|</span>
          <span class='id identifier rubyid_sub_level_instruction'>sub_level_instruction</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Instruction.html" title="Instruction (class)">Instruction</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Instruction.html#initialize-instance_method" title="Instruction#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_sl'>sl</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_sub_level_instruction'>sub_level_instruction</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span> <span class='op'>!=</span> <span class='kw'>nil</span>
            <span class='id identifier rubyid_sub_level_data'>sub_level_data</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='id identifier rubyid_sub_level_instruction'>sub_level_instruction</span><span class='period'>.</span><span class='id identifier rubyid_data'>data</span> <span class='rparen'>)</span> <span class='comment'>#gets the contents using the symbol, and sending &quot;self&quot; a message
</span>          <span class='kw'>else</span>
             <span class='id identifier rubyid_sub_level_data'>sub_level_data</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="GedString.html" title="GedString (class)">GedString</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GedString.html#initialize-instance_method" title="GedString#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span>
          <span class='kw'>end</span>
          
          <span class='kw'>if</span> <span class='id identifier rubyid_sub_level_data'>sub_level_data</span> <span class='op'>!=</span> <span class='kw'>nil</span>  <span class='comment'>#could be if the self.send targets a variable that doesn&#39;t exist.
</span>            <span class='id identifier rubyid_sub_level_data'>sub_level_data</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sub_data_instance'>sub_data_instance</span><span class='op'>|</span> 
              <span class='id identifier rubyid_s_out'>s_out</span> <span class='op'>+=</span> <span class='id identifier rubyid_to_s_r_action'>to_s_r_action</span><span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span><span class='op'>+</span><span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_sub_level_instruction'>sub_level_instruction</span><span class='period'>.</span><span class='id identifier rubyid_action'>action</span><span class='comma'>,</span> <span class='id identifier rubyid_sub_level_instruction'>sub_level_instruction</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_sub_data_instance'>sub_data_instance</span> <span class='rparen'>)</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>

      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_s_out'>s_out</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="token_to_s-instance_method">
  
    #<strong>token_to_s</strong>(token)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>All our values are stored as arrays of words. This is quite useful in word wrapping of NOTES, TEXT, etc, and further parsing records like dates. It isn&#39;t really that helpful when we want to use a value as a string. This is a utility function to join the words into a space separated string.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_token_to_s'>token_to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_token'>token</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_token'>token</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="xref_check-instance_method">
  
    #<strong>xref_check</strong>(level, tag, xref)  &#x21d2; <tt>Object</tt>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>validate that the record referenced by the XREF actually exists in this transmission. Genearte a warning if it does not. It does not stop the processing of this line.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


277
278
279
280
281
282
283
284
285
286</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/gedcom/gedcom_base.rb', line 277</span>

<span class='kw'>def</span> <span class='id identifier rubyid_xref_check'>xref_check</span><span class='lparen'>(</span> <span class='id identifier rubyid_level'>level</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_xref'>xref</span> <span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_xref'>xref</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span> <span class='op'>!=</span> <span class='const'><span class='object_link'><a href="Xref.html" title="Xref (class)">Xref</a></span></span>
    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_level'>level</span><span class='op'>+</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'> XREF_CHECK ****************</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_level'>level</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xref'>xref</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='embexpr_end'>}</span><span class='tstring_content'> != Xref?\n</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>return</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='ivar'>@transmission</span> <span class='op'>!=</span> <span class='kw'>nil</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@transmission</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_xref'>xref</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='comma'>,</span> <span class='id identifier rubyid_xref'>xref</span><span class='period'>.</span><span class='id identifier rubyid_xref_value'>xref_value</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='kw'>nil</span>
    <span class='comment'>#Warning message that reference points to an unknown target.
</span>    <span class='id identifier rubyid_print'>print</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_level'>level</span><span class='op'>+</span><span class='int'>1</span><span class='embexpr_end'>}</span><span class='tstring_content'> NOTE ****************</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_level'>level</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tag'>tag</span><span class='embexpr_end'>}</span><span class='tstring_content'> Key not found: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xref'>xref</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_xref'>xref</span><span class='period'>.</span><span class='id identifier rubyid_xref_value'>xref_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Oct 31 21:50:24 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.7.1).
</div>

    </div>
  </body>
</html>